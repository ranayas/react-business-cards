(this["webpackJsonpreact-business-cards"]=this["webpackJsonpreact-business-cards"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,s,t){},,,,,,,,,,,,,function(e,s,t){},,,,,,,function(e,s,t){},function(e,s,t){},function(e,s,t){},,,,,,,,function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},,,function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){"use strict";t.r(s);var n=t(1),c=t.n(n),a=t(16),r=t.n(a),i=(t(34),t(2)),o=(t(35),t(9)),l=t(3),u=(t(36),"light"),d="dark",b=Object(n.createContext)(u),j=t(0),h=function(e){var s=e.onToggleThemeChange,t=Object(n.useContext)(b);return Object(j.jsx)("header",{className:"header__container ".concat(t===u?"":"header__container--dark"),children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(o.b,{className:"header__logo",to:"/",children:Object(j.jsx)("h1",{children:"Business Cards"})}),Object(j.jsx)("label",{htmlFor:"theme",className:"header__theme-toggle",children:t===u?"\ud83c\udf19":"\u2600\ufe0f"}),Object(j.jsx)("input",{onChange:s,className:"header__theme-input",type:"checkbox",id:"theme"})]})})})},m=t(7),O=t.n(m),p=t(13),x=t(11),f=t(12),v=(t(44),t(14),t(45),t(46),function(e){var s=e.businessCard,t=e.onSubmit,n=e.onInputChange,c=e.loading,a=e.error;return Object(j.jsx)("form",{className:"business-card-form",onSubmit:t,children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"business-card-form__flex",children:[Object(j.jsxs)("div",{className:"business-card-form__group",children:[Object(j.jsx)("label",{className:"business-card-form__label",children:"Name"}),Object(j.jsx)("input",{onChange:n,value:s.name,name:"name",className:"input"})]}),Object(j.jsxs)("div",{className:"business-card-form__group",children:[Object(j.jsx)("label",{className:"business-card-form__label",children:"Username"}),Object(j.jsx)("input",{onChange:n,value:s.username,name:"username",className:"input"})]}),Object(j.jsxs)("div",{className:"business-card-form__group",children:[Object(j.jsx)("label",{className:"business-card-form__label",children:"Email"}),Object(j.jsx)("input",{onChange:n,value:s.email,name:"email",className:"input"})]}),Object(j.jsxs)("div",{className:"business-card-form__group",children:[Object(j.jsx)("label",{className:"business-card-form__label",children:"Phone"}),Object(j.jsx)("input",{onChange:n,value:s.phone,name:"phone",className:"input"})]}),Object(j.jsxs)("div",{className:"business-card-form__group",children:[Object(j.jsx)("label",{className:"business-card-form__label",children:"Website"}),Object(j.jsx)("input",{onChange:n,value:s.website,name:"website",className:"input"})]}),Object(j.jsx)("button",{className:"button ".concat(c&&"button--loading"),disabled:!!c,children:c?"Loading...":"Save"}),a&&Object(j.jsx)("p",{className:"business-card-form__error",children:"Error: ".concat(a.message)})]})})})}),_=(t(47),t(29)),g=t.n(_);var N=function(e){var s=e.name,t=e.username,c=e.email,a=e.phone,r=e.website,i=Object(n.useContext)(b);return Object(j.jsxs)("div",{className:"business-card ".concat(i===u?"":"business-card--dark"),children:[Object(j.jsx)("img",{className:"business-card__image",alt:"gravatar",src:"https://www.gravatar.com/avatar/".concat(c&&g()(c))}),Object(j.jsxs)("div",{className:"business-card__content",children:[Object(j.jsx)("p",{className:"business-card__name",children:s}),Object(j.jsxs)("p",{className:"business-card__username",children:["@",t]}),Object(j.jsx)("div",{className:"business-card__line"}),Object(j.jsxs)("div",{className:"business-card__bottomContent",children:[Object(j.jsxs)("p",{children:["Email: ",c]}),Object(j.jsxs)("p",{children:["Phone: ",a]}),Object(j.jsxs)("p",{children:["Website: ",r]})]})]})]})},C=function(){var e=Object(n.useContext)(b),s=Object(n.useState)({name:"",username:"",email:"",phone:"",website:""}),t=Object(i.a)(s,2),c=t[0],a=t[1],r=Object(n.useState)(void 0),d=Object(i.a)(r,2),h=d[0],m=d[1],_=Object(n.useState)(!1),g=Object(i.a)(_,2),C=g[0],y=g[1],k=Object(n.useState)(null),w=Object(i.a)(k,2),S=w[0],E=w[1];function F(){return(F=Object(f.a)(O.a.mark((function e(s){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),D();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(O.a.mark((function e(){var s,t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:return s=e.sent,e.next=7,s.json();case 7:t=e.sent,console.log({message:"Business card created",businessCard:t}),m(!1),y(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),m(!1),E(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}return!S&&C?Object(j.jsx)(l.a,{push:!0,to:"/business-cards"}):Object(j.jsxs)("div",{className:"home ".concat(e===u?"":"home--dark"),children:[Object(j.jsx)("p",{className:"home__info",children:"Create your business card \ud83d\udcc7"}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(v,{businessCard:c,onSubmit:function(e){return F.apply(this,arguments)},onInputChange:function(e){var s=e.target,t=s.name,n=s.value;a(Object(x.a)(Object(x.a)({},c),{},Object(p.a)({},t,n)))},loading:h,error:S}),Object(j.jsx)("div",{className:"home__business-card-container",children:Object(j.jsx)(N,{name:c.name,username:c.username,email:c.email,phone:c.phone,website:c.website})}),Object(j.jsx)("div",{className:"home__business-cards-container",children:Object(j.jsx)(o.b,{to:"/business-cards",className:"button",children:"See all"})})]})]})},y=(t(50),t(27),t(51),function(e){var s=e.loading,t=e.error,n=e.businessCards;return Object(j.jsx)("div",{className:"business-card-list",children:s?Object(j.jsx)("div",{className:"loader"}):t?Object(j.jsxs)("h2",{className:"business-card-list__error",children:["Error ",t.message]}):n.length?n.map((function(e){return Object(j.jsx)(o.b,{to:"/business-cards/".concat(e.id,"/edit"),className:"business-card-list__link",children:Object(j.jsx)(N,{email:e.email,name:e.name,phone:e.phone,username:e.username,website:e.website})},e.id)})):Object(j.jsx)("h2",{className:"business-card-list__not-found",children:"Business cards not found"})})}),k=function(){var e=Object(n.useState)(!0),s=Object(i.a)(e,2),t=s[0],c=s[1],a=Object(n.useState)(null),r=Object(i.a)(a,2),l=r[0],d=r[1],h=Object(n.useState)([]),m=Object(i.a)(h,2),O=m[0],p=m[1],x=Object(n.useState)(""),f=Object(i.a)(x,2),v=f[0],_=f[1],g=Object(n.useState)([]),N=Object(i.a)(g,2),C=N[0],k=N[1],w=Object(n.useContext)(b);return Object(n.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(e){return d(e)})).finally((function(){return c(!1)}))}),[]),Object(n.useMemo)((function(){var e=O.filter((function(e){return e.name.toLocaleLowerCase().includes(v.toLocaleLowerCase())}));k(e)}),[O,v]),Object(j.jsx)("div",{class:"business-cards ".concat(w===u?"":"business-cards--dark"),children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"business-cards__button-container",children:Object(j.jsx)(o.b,{className:"button",to:"/",children:"Create a business card"})}),Object(j.jsxs)("div",{className:"business-cards__search-container",children:[Object(j.jsx)("label",{htmlFor:"search-business-cards",className:"business-cards__search-label",children:"Filter business cards"}),Object(j.jsx)("input",{id:"search-business-cards",className:"input",name:"searchBusinessCards",value:v,onChange:function(e){_(e.target.value)}}),Object(j.jsx)(y,{loading:t,error:l,businessCards:C})]})]})})},w=(t(52),t(17)),S=t(18),E=t(20),F=t(19),D=(t(53),document.getElementById("modal-root")),T=function(e){Object(E.a)(t,e);var s=Object(F.a)(t);function t(){var e;Object(w.a)(this,t);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=s.call.apply(s,[this].concat(c))).el=document.createElement("div"),e}return Object(S.a)(t,[{key:"componentDidMount",value:function(){D.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){D.removeChild(this.el)}},{key:"render",value:function(){return Object(a.createPortal)(Object(j.jsx)("div",{className:"modal",children:this.props.children}),this.el)}}]),t}(n.Component),B=(t(54),function(e){var s=e.onDeleteClick,t=e.onCancelClick,c=e.loading,a=e.error,r=Object(n.useContext)(b);return Object(j.jsx)(T,{children:Object(j.jsx)("div",{className:"delete-business-card-modal ".concat(r===u?"":"delete-business-card-modal--dark"),children:Object(j.jsxs)("div",{className:"delete-business-card-modal__content",children:[Object(j.jsx)("h2",{className:"delete-business-card-modal__title",children:"Are you sure?"}),Object(j.jsx)("p",{className:"delete-business-card-modal__subtitle",children:"You are about to delete this business card."}),Object(j.jsxs)("div",{className:"delete-business-card-modal__buttons",children:[Object(j.jsx)("button",{className:"button button--danger ".concat(c?"button--loading":""),onClick:s,children:c?"Deleting...":"Delete"}),Object(j.jsx)("button",{className:"button",onClick:t,children:"Cancel"})]}),a&&Object(j.jsx)("p",{class:"delete-business-card-modal__error",children:"Error: ".concat(a.message)})]})})})}),L=function(e){Object(E.a)(t,e);var s=Object(F.a)(t);function t(){var e;Object(w.a)(this,t);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=s.call.apply(s,[this].concat(c))).state={hasError:!1},e}return Object(S.a)(t,[{key:"componentDidCatch",value:function(e,s){console.error("ErrorBoundary caught an error: ",e,s)}},{key:"render",value:function(){return this.state.hasError?Object(j.jsx)("h2",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(n.Component),P=function(){var e=Object(l.g)().id,s=Object(n.useState)(!1),t=Object(i.a)(s,2),c=t[0],a=t[1],r=Object(n.useState)(!0),o=Object(i.a)(r,2),d=o[0],h=o[1],m=Object(n.useState)(void 0),_=Object(i.a)(m,2),g=_[0],C=_[1],y=Object(n.useState)(void 0),k=Object(i.a)(y,2),w=k[0],S=k[1],E=Object(n.useState)(void 0),F=Object(i.a)(E,2),D=F[0],T=F[1],L=Object(n.useState)(void 0),P=Object(i.a)(L,2),I=P[0],U=P[1],A=Object(n.useState)({name:"",username:"",email:"",phone:"",website:""}),J=Object(i.a)(A,2),M=J[0],W=J[1],H=Object(n.useState)(!1),Y=Object(i.a)(H,2),q=Y[0],z=Y[1],G=Object(n.useContext)(b);function K(){return(K=Object(f.a)(O.a.mark((function s(t){var n,c;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.preventDefault(),C(!0),s.prev=2,s.next=5,fetch("https://jsonplaceholder.typicode.com/users/".concat(e),{method:"PATCH",body:JSON.stringify(M),headers:{"Content-type":"application/json; charset=UTF-8"}});case 5:return n=s.sent,s.next=8,n.json();case 8:c=s.sent,console.log({message:"Business card updated",businessCard:c}),C(!1),a(!0),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(2),C(!1),T(s.t0);case 18:case"end":return s.stop()}}),s,null,[[2,14]])})))).apply(this,arguments)}function Q(){return(Q=Object(f.a)(O.a.mark((function s(){return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return S(!0),s.prev=1,s.next=4,fetch("https://jsonplaceholder.typicode.com/users/".concat(e),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:console.log({message:"Business card deleted"}),S(!1),z(!1),a(!0),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),S(!1),U(s.t0);case 14:case"end":return s.stop()}}),s,null,[[1,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function s(){return(s=Object(f.a)(O.a.mark((function s(){var t,n;return O.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("https://jsonplaceholder.typicode.com/users/".concat(e));case 2:return t=s.sent,s.next=5,t.json();case 5:n=s.sent,W(n),h(!1);case 8:case"end":return s.stop()}}),s)})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[e]),c&&!D?Object(j.jsx)(l.a,{push:!0,to:"/business-cards"}):Object(j.jsx)("div",{class:"business-card-edit ".concat(G===u?"":"business-card-edit--dark"),children:Object(j.jsx)("div",{className:"container",children:d?Object(j.jsx)("div",{className:"business-card-edit__loader-container",children:Object(j.jsx)("div",{className:"loader"})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"business-card-edit__delete-button",children:[Object(j.jsx)("button",{className:"button button--danger",onClick:function(){z(!0)},children:"Delete"}),q&&Object(j.jsx)(B,{loading:w,error:I,onDeleteClick:function(){return Q.apply(this,arguments)},onCancelClick:function(){z(!1)}})]}),Object(j.jsx)("div",{className:"business-card-edit__form",children:Object(j.jsx)(v,{onSubmit:function(e){return K.apply(this,arguments)},businessCard:M,onInputChange:function(e){var s=e.target,t=s.value,n=s.name;W(Object(x.a)(Object(x.a)({},M),{},Object(p.a)({},n,t)))},loading:g,error:D})}),Object(j.jsx)("div",{className:"business-card-edit__card",children:Object(j.jsx)(N,{name:M.name,username:M.username,email:M.email,phone:M.phone,website:M.website})})]})})})};function I(e){return Object(j.jsx)(L,{children:Object(j.jsx)(P,Object(x.a)({},e))})}var U=function(){var e=Object(n.useState)(u),s=Object(i.a)(e,2),t=s[0],c=s[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(o.a,{children:Object(j.jsxs)(b.Provider,{value:t,children:[Object(j.jsx)(h,{onToggleThemeChange:function(){c(t===u?d:u)}}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/business-cards/:id/edit",children:Object(j.jsx)(I,{})}),Object(j.jsx)(l.b,{path:"/business-cards",children:Object(j.jsx)(k,{})}),Object(j.jsx)(l.b,{path:"/",children:Object(j.jsx)(C,{})})]})]})})})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,56)).then((function(s){var t=s.getCLS,n=s.getFID,c=s.getFCP,a=s.getLCP,r=s.getTTFB;t(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(U,{})}),document.getElementById("root")),A()}],[[55,1,2]]]);
//# sourceMappingURL=main.e8b8153c.chunk.js.map